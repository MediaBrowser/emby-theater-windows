<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:viewModels="clr-namespace:MediaBrowser.Theater.Presentation.ViewModels;assembly=MediaBrowser.Theater.Presentation"
                    xmlns:home="clr-namespace:MediaBrowser.Plugins.DefaultTheme.Home"
                    xmlns:controls="clr-namespace:MediaBrowser.Theater.Presentation.Controls;assembly=MediaBrowser.Theater.Presentation"
                    xmlns:ee="clr-namespace:Microsoft.Expression.Media.Effects;assembly=Microsoft.Expression.Effects"
                    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
                    xmlns:converters="clr-namespace:MediaBrowser.Theater.Presentation.Converters;assembly=MediaBrowser.Theater.Presentation">

    <Style x:Key="ResumeProgressBar" TargetType="{x:Type ProgressBar}" >
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ProgressBar}">
                    <Grid MinHeight="14" MinWidth="200" Background="{TemplateBinding Background}">
                        <Border x:Name="PART_Track" />
                        <Border x:Name="PART_Indicator" HorizontalAlignment="Left" Background="{TemplateBinding Foreground}" Opacity="{TemplateBinding Opacity}"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Foreground" Value="{StaticResource MediaBrowserAccent}"/>
        <Setter Property="Background" Value="#a6000000"/>
        <Setter Property="Opacity" Value="0.7"/>
    </Style>

    <ControlTemplate x:Key="NextButtonContent">
        <Grid Margin="10 0 0 0">
            <Grid Width="30" Height="30" Visibility="Visible">
                <Path Style="{StaticResource IconPath}" Data="M50.5,4.7500001C25.232973,4.75 4.75,25.232973 4.7500001,50.5 4.75,75.767029 25.232973,96.25 50.5,96.25 75.767029,96.25 96.25,75.767029 96.25,50.5 96.25,25.232973 75.767029,4.75 50.5,4.7500001z M50.5,0C78.390381,0 101,22.609621 101,50.5 101,78.390381 78.390381,101 50.5,101 22.609621,101 0,78.390381 0,50.5 0,22.609621 22.609621,0 50.5,0z" Stretch="Fill" Name="Stroke" Visibility="Visible" />
            </Grid>
            <Path Style="{StaticResource IconPath}" Data="F1M-756.543,-2951.94L-775.412,-2933.06 -775.278,-2932.93 -765.046,-2932.93 -747.577,-2950.4 -742.327,-2955.65 -764.908,-2978.23 -775.412,-2978.23 -756.543,-2959.36 -806.328,-2959.36 -806.328,-2951.94 -756.543,-2951.94z" Stretch="Uniform" Width="16" Height="16" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                <Path.RenderTransform>
                    <TransformGroup>
                        <TransformGroup.Children>
                            <RotateTransform Angle="0" />
                            <ScaleTransform ScaleX="1" ScaleY="1" />
                        </TransformGroup.Children>
                    </TransformGroup>
                </Path.RenderTransform>
            </Path>
        </Grid>
    </ControlTemplate>

    <DataTemplate x:Key="HomePageItemTemplate" DataType="{x:Type viewModels:ItemViewModel}">

        <Grid Height="{Binding ImageHeight}" Width="{Binding ImageWidth}">

            <Image Stretch="{Binding ImageStretch}" Source="{Binding Image}" Visibility="{Binding ImageVisibility}">
            </Image>

            <Grid Background="{DynamicResource TextBackground}" Visibility="{Binding DefaultImageVisibility}">

                <Path Style="{DynamicResource IconPath}" Visibility="Collapsed" Data="F1M689.62,486.729C689.555,486.727,689.499,486.716,689.432,486.716L671.278,486.716 678.821,477.678C679.052,477.402 679.142,477.098 679.111,476.775 679.081,476.424 678.941,476.135 678.7,475.907 678.426,475.675 678.12,475.584 677.8,475.615 677.432,475.646 677.143,475.799 676.926,476.074L669.538,484.898 661.201,476.609C660.958,476.363 660.668,476.244 660.345,476.244 659.98,476.244 659.691,476.363 659.477,476.609 659.217,476.851 659.094,477.143 659.094,477.477 659.094,477.831 659.217,478.136 659.477,478.379L667.888,486.716 657.445,486.716C657.392,486.716,657.349,486.727,657.296,486.729L653.304,486.729 653.304,518.276 657.445,518.276 689.432,518.276 693.554,518.276 693.554,514.154 693.554,511.101 693.554,504.916 693.554,490.84 693.554,486.729 689.62,486.729z M690.091,500.457C690.091,501.175 689.83,501.77 689.294,502.274 688.838,502.763 688.257,503.023 687.57,503.052L687.449,503.052C686.73,503.023 686.134,502.763 685.632,502.274 685.128,501.77 684.882,501.175 684.882,500.457 684.882,499.742 685.128,499.128 685.632,498.594 686.149,498.107 686.776,497.862 687.494,497.862 688.212,497.862 688.805,498.107 689.294,498.594 689.83,499.128 690.091,499.742 690.091,500.457z M682.211,503.052L682.165,503.052 682.165,511.878C681.922,514.109,680.561,515.222,678.075,515.222L660.758,515.222C657.995,515.222,656.622,513.85,656.622,511.101L656.622,493.77C656.622,491.023,657.995,489.648,660.758,489.648L678.075,489.648C680.836,489.648,682.211,491.023,682.211,493.77L682.211,503.052z M689.266,509.908C688.762,510.43 688.165,510.69 687.449,510.69 686.73,510.69 686.12,510.43 685.584,509.908 685.096,509.406 684.853,508.808 684.853,508.093 684.853,507.375 685.096,506.749 685.584,506.23 686.12,505.726 686.73,505.481 687.449,505.481 688.165,505.481 688.762,505.726 689.266,506.23 689.783,506.749 690.044,507.375 690.044,508.093 690.044,508.808 689.783,509.406 689.266,509.908z" Stretch="Uniform" Width="80" Height="80" Margin="0,0,0,40" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>

            <Grid VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}">

                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">

                        <Setter Property="HorizontalAlignment" Value="Stretch" />

                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsInProgress}" Value="False">
                                <Setter Property="HorizontalAlignment" Value="Left" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsFolder}" Value="True">
                                <Setter Property="HorizontalAlignment" Value="Left" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>

                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>

                <TextBlock Margin="10 5 15 10" TextWrapping="NoWrap" Text="{Binding DisplayName}" TextTrimming="CharacterEllipsis" Grid.Row="0" Visibility="{Binding DisplayNameVisibility}" Style="{StaticResource SmallTextBlockStyle}">
                </TextBlock>

                <ProgressBar Minimum="0" Maximum="100" Value="{Binding PlayedPercentage, Mode=OneWay}" Margin="10 0 10 10" Grid.Row="1" Height="12">
                    <ProgressBar.Style>
                        <Style TargetType="{x:Type ProgressBar}" BasedOn="{StaticResource ResumeProgressBar}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsInProgress}" Value="False">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsFolder}" Value="True">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ProgressBar.Style>
                </ProgressBar>
            </Grid>
        </Grid>

    </DataTemplate>

    <Style x:Key="HomePageListBoxItemStyle" TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource BaseListBoxItemStyle}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBoxItem}">
                    <TextBlock Margin="40 0" Opacity=".3" x:Name="MenuText" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Text="{Binding DisplayName}" Style="{StaticResource Heading1TextBlockStyle}" TextWrapping="NoWrap"></TextBlock>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="Foreground" Value="{DynamicResource SelectedMenuItemForeground}"></Setter>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="Foreground" Value="{DynamicResource SelectedMenuItemForeground}"></Setter>
                            <Setter TargetName="MenuText" Property="TextBlock.TextDecorations" Value="Underline"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <DataTemplate x:Key="AppListBoxItemTemplate" DataType="{x:Type viewModels:AppViewModel}">
        <Grid>
            <ContentControl Content="{Binding TileImage}" Width="528" Height="297"></ContentControl>

            <Grid Background="{DynamicResource TextBackground}" VerticalAlignment="Bottom" HorizontalAlignment="Stretch">

                <TextBlock x:Name="TxtName" Style="{StaticResource TextBlockStyle}" Margin="10 5 10 10" Text="{Binding Name}"></TextBlock>

            </Grid>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="TvViewTemplate" DataType="{x:Type home:TvViewModel}">

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>

            <TextBlock Style="{StaticResource SmallTextBlockStyle}" Grid.Column="1" Grid.Row="0" Padding="35 0 0 0" Visibility="Hidden" Text=" "></TextBlock>

            <TextBlock Grid.Column="1" Grid.Row="0" Padding="35 0 0 0" Text=" " Visibility="{Binding ResumeVisibility}" Style="{StaticResource SmallTextBlockStyle}">
            </TextBlock>

            <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="0" Visibility="{Binding NextUpVisibility}">

                <TextBlock Style="{StaticResource SmallTextBlockStyle}" Padding="55 0 0 0" Text="NEXT UP">
                </TextBlock>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="0" Visibility="{Binding LatestEpisodesVisibility}">

                <TextBlock Style="{StaticResource SmallTextBlockStyle}" Padding="55 0 0 0" Text="LATEST EPISODES">
                </TextBlock>
            </StackPanel>

            <Grid Grid.Row="1" Grid.Column="0">

                <Grid.RowDefinitions>
                    <RowDefinition Height="2*"></RowDefinition>
                    <RowDefinition Height="1*"></RowDefinition>
                </Grid.RowDefinitions>

                <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding SpotlightViewModel}" Command="{Binding CustomCommand}" HorizontalAlignment="Center" VerticalAlignment="Top" Grid.Row="0">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="GotFocus">
                            <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <Grid Height="{Binding Height}" Width="{Binding Width}">
                        <controls:TransitionControl Content="{Binding CurrentImage}">
                            <controls:TransitionControl.TransitionAnimation>
                                <DoubleAnimation Duration="0:0:1.75" >
                                    <DoubleAnimation.EasingFunction>
                                        <ExponentialEase EasingMode="EaseInOut"></ExponentialEase>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </controls:TransitionControl.TransitionAnimation>
                            <controls:TransitionControl.TransitionType>
                                <ee:FadeTransitionEffect></ee:FadeTransitionEffect>
                            </controls:TransitionControl.TransitionType>
                        </controls:TransitionControl>

                        <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                            <TextBlock Text="{Binding CurrentText}" Style="{StaticResource TextBlockStyle}" Margin="15 5 20 10"></TextBlock>
                        </Border>
                    </Grid>
                </controls:ExtendedButton>

                <WrapPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0 0 0 0">

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding AllShowsViewModel}" Command="{Binding CustomCommand}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="GotFocus">
                                <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <ItemsControl ItemsSource="{Binding ListCollectionView}" Focusable="False">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="1"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Image Source="{Binding Image}" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>
                                    </DataTemplate>

                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="TV Shows" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding GenresViewModel}" Command="{Binding CustomCommand}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="GotFocus">
                                <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <Image Source="Images/moviegenres.jpg" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Genres" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding UpcomingViewModel}" Command="{Binding CustomCommand}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="GotFocus">
                                <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <Image Source="Images/upcomingtv.jpg" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Upcoming TV" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                </WrapPanel>

            </Grid>

            <Grid Grid.Row="1" Grid.Column="1" Margin="0 0 0 0" Visibility="{Binding ResumeVisibility}">

                <controls:ExtendedListBox Margin="-35" DataContext="{Binding ResumeViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="2" Margin="50 0 0 0" Visibility="{Binding NextUpVisibility}">

                <controls:ExtendedListBox Margin="-35" DataContext="{Binding NextUpViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="3" Margin="50 0 0 0" Visibility="{Binding LatestEpisodesVisibility}">

                <controls:ExtendedListBox Margin="-35" DataContext="{Binding LatestEpisodesViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

        </Grid>

    </DataTemplate>

    <DataTemplate x:Key="MoviesViewTemplate" DataType="{x:Type home:MoviesViewModel}">

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>

            <TextBlock Style="{StaticResource SmallTextBlockStyle}" Grid.Column="1" Grid.Row="0" Padding="35 0 0 0" Visibility="Hidden" Text=" "></TextBlock>

            <TextBlock Grid.Column="2" Grid.Row="0" Padding="50 0 0 0" Text="LATEST MOVIES" Visibility="{Binding LatestMoviesVisibility}" Style="{StaticResource SmallTextBlockStyle}">
            </TextBlock>

            <Grid Grid.Row="1" Grid.Column="0" Margin="0 0 0 0">

                <Grid.RowDefinitions>
                    <RowDefinition Height="2*"></RowDefinition>
                    <RowDefinition Height="1*"></RowDefinition>
                </Grid.RowDefinitions>

                <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding SpotlightViewModel}" Command="{Binding CustomCommand}" Grid.Row="0" HorizontalAlignment="Center">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="GotFocus">
                            <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <Grid Height="{Binding Height}" Width="{Binding Width}">
                        <controls:TransitionControl Content="{Binding CurrentImage}">
                            <controls:TransitionControl.TransitionAnimation>
                                <DoubleAnimation Duration="0:0:1.75" >
                                    <DoubleAnimation.EasingFunction>
                                        <ExponentialEase EasingMode="EaseInOut"></ExponentialEase>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </controls:TransitionControl.TransitionAnimation>
                            <controls:TransitionControl.TransitionType>
                                <ee:FadeTransitionEffect></ee:FadeTransitionEffect>
                            </controls:TransitionControl.TransitionType>
                        </controls:TransitionControl>

                        <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                            <TextBlock Text="{Binding CurrentText}" Style="{StaticResource TextBlockStyle}" Margin="15 5 20 10"></TextBlock>
                        </Border>
                    </Grid>
                </controls:ExtendedButton>

                <WrapPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0 0 0 0">
                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding AllMoviesViewModel}" Command="{Binding CustomCommand}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="GotFocus">
                                <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <ItemsControl ItemsSource="{Binding ListCollectionView}" Focusable="False">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="1"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Image Source="{Binding Image}" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>
                                    </DataTemplate>

                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Movies" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding GenresViewModel}" Command="{Binding CustomCommand}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="GotFocus">
                                <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <Image Source="Images/moviegenres.jpg" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Genres" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding YearsViewModel}" Command="{Binding CustomCommand}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="GotFocus">
                                <i:InvokeCommandAction Command="{Binding FocusedCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <Image Source="Images/movietimeline.jpg" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Timeline" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>
                </WrapPanel>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="1" Margin="0 0 0 0">

                <controls:ExtendedListBox Margin="-35 -35" DataContext="{Binding MiniSpotlightsViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35 35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="2" Margin="45 0 0 0" Visibility="{Binding LatestMoviesVisibility}">

                <controls:ExtendedListBox Margin="-35" DataContext="{Binding LatestMoviesViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

        </Grid>

    </DataTemplate>

    <DataTemplate x:Key="GamesViewTemplate" DataType="{x:Type home:GamesViewModel}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>

            <TextBlock Style="{StaticResource SmallTextBlockStyle}" Grid.Column="1" Grid.Row="0" Padding="5 0 0 0">CONTINUE PLAYING</TextBlock>

            <TextBlock Style="{StaticResource SmallTextBlockStyle}" Grid.Column="2" Grid.Row="0" Padding="55 0 0 0">GAME SYSTEMS</TextBlock>

            <Grid Grid.Row="1" Grid.Column="0" HorizontalAlignment="Center">

                <Grid.RowDefinitions>
                    <RowDefinition Height="2*"></RowDefinition>
                    <RowDefinition Height="1*"></RowDefinition>
                </Grid.RowDefinitions>

                <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding SpotlightViewModel}" Command="{Binding CustomCommand}" VerticalAlignment="Top" Grid.Row="0">
                    <Grid Height="{Binding Height}" Width="{Binding Width}">
                        <controls:TransitionControl Content="{Binding CurrentImage}">
                            <controls:TransitionControl.TransitionAnimation>
                                <DoubleAnimation Duration="0:0:1.75" >
                                    <DoubleAnimation.EasingFunction>
                                        <ExponentialEase EasingMode="EaseInOut"></ExponentialEase>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </controls:TransitionControl.TransitionAnimation>
                            <controls:TransitionControl.TransitionType>
                                <ee:FadeTransitionEffect></ee:FadeTransitionEffect>
                            </controls:TransitionControl.TransitionType>
                        </controls:TransitionControl>

                        <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                            <TextBlock Text="{Binding CurrentText}" Style="{StaticResource TextBlockStyle}" Margin="15 5 20 10"></TextBlock>
                        </Border>
                    </Grid>
                </controls:ExtendedButton>

                <WrapPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0 0 0 0" HorizontalAlignment="Center">

                    <Grid Visibility="{Binding MultiPlayerVisibility}">
                        <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding MultiPlayerViewModel}" Command="{Binding CustomCommand}">

                            <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                                <ItemsControl ItemsSource="{Binding ListCollectionView}" Focusable="False">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Columns="1"></UniformGrid>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding Image}" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>
                                        </DataTemplate>

                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                                <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                    <TextBlock Text="Multiplayer" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                                </Border>
                            </Grid>
                        </controls:ExtendedButton>
                    </Grid>

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding GenresViewModel}" Command="{Binding CustomCommand}">
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <Image Source="Images/gamegenres.jpg" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Genres" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                    <controls:ExtendedButton Style="{StaticResource BaseItemButtonStyle}" DataContext="{Binding YearsViewModel}" Command="{Binding CustomCommand}">
                        <Grid Height="{Binding GalleryHeight}" Width="{Binding GalleryWidth}">

                            <Image Source="Images/gametimeline.jpg" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Top"></Image>

                            <Border HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="{DynamicResource TextBackground}" Margin="0 0 0 -1">
                                <TextBlock Text="Timeline" Style="{StaticResource SmallTextBlockStyle}" Margin="10 5 15 10"></TextBlock>
                            </Border>
                        </Grid>
                    </controls:ExtendedButton>

                </WrapPanel>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="1" Margin="0 0 0 0" Visibility="{Binding RecentlyPlayedVisibility}">

                <controls:ExtendedListBox Margin="-35 -35" ClearSelectionOnLostFocus="true"  DataContext="{Binding RecentlyPlayedViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35 35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="2" Margin="50 0 0 0">

                <controls:ExtendedListBox Margin="-35 -35" DataContext="{Binding GameSystemsViewModel}" ItemsSource="{Binding ListCollectionView}" KeyboardNavigation.DirectionalNavigation="Continue" Command="{Binding NavigateCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{StaticResource ListBoxStyle}" ItemContainerStyle="{StaticResource HighlightedBorderListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{StaticResource HomePageItemTemplate}">
                    <controls:ExtendedListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Margin="35 35" Orientation="Vertical"></WrapPanel>
                        </ItemsPanelTemplate>
                    </controls:ExtendedListBox.ItemsPanel>
                </controls:ExtendedListBox>
            </Grid>

            <Button Grid.Column="1" Grid.Row="2" Padding="15 0" Margin="0 5 5 0" HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource TextBlockStyle}" Foreground="#ccc">•</TextBlock>
                    <TextBlock Style="{StaticResource TextBlockStyle}" Foreground="#ccc" Margin="3 0">•</TextBlock>
                    <TextBlock Style="{StaticResource TextBlockStyle}" Foreground="#ccc">•</TextBlock>
                </StackPanel>
            </Button>
        </Grid>
    </DataTemplate>
    
    <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter"/>

</ResourceDictionary>